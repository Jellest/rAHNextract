<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Extract elevation points or areas in the Netherlands from the AHN • rAHNextract</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Extract elevation points or areas in the Netherlands from the AHN">
<meta property="og:description" content="Extract elevation points or raster areas or point clouds areas in the Netherlands from the Actueel Hoogtebestand Nederland (AHN). Raster or point clouds extraction is possible of a custom area for the AHN1, AHN2 or AHN3.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">rAHNextract</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.95</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/Jellest/rAHNextract/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="rahnextract" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#rahnextract" class="anchor"></a>rAHNextract</h1></div>
<!-- badges: start -->
<p><a href="https://www.tidyverse.org/lifecycle/#maturing"><img src="https://img.shields.io/badge/lifecycle-maturing-blue.svg" alt="Lifecycle: maturing"></a> <a href="https://www.gnu.org/licenses/gpl-3.0"><img src="https://img.shields.io/badge/License-GPLv3-blue.svg" alt="License: GPL v3"></a> <a href=""><img src="https://img.shields.io/github/release/Jellest/rAHNextract.svg?style=flat" alt="GitHub Release"></a> <!-- badges: end --> Updated: 23-04-2020</p>
<p>This R package automatically extracts elevation points or areas of the Netherlands from the Actueel Hoogtebestand Nederland (AHN). Individual elevations, raster areas or point clouds areas can be extracted from the AHN1, AHN2 or AHN3 using all the geo services that are made available by <a href="http://esrinl-content.maps.arcgis.com/apps/Embed/index.html?appid=a3dfa5a818174aa787392e461c80f781">PDOK</a></p>
<table class="table">
<thead><tr class="header">
<th>Type</th>
<th>AHN 3</th>
<th>AHN2</th>
<th>AHN1</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><strong>Resolutions</strong></td>
<td>0.5, 5m</td>
<td>0.5m, 5m</td>
<td>5m, 100m</td>
</tr>
<tr class="even">
<td><strong>DEM</strong></td>
<td>DSM, DTM</td>
<td>DSM, DTM</td>
<td>DTM</td>
</tr>
<tr class="odd">
<td><strong>point clouds</strong></td>
<td>YES</td>
<td>YES</td>
<td>YES</td>
</tr>
</tbody>
</table>
<p>For the AHN2 DTM, there are 2 versions available: interpolated or non interpolated version.</p>
<p>For the AHN1 and AHN2 filterd (‘gefilterd’) and not filterd (‘uitgefilterd’) versions of the point clouds datasets are made available.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<div class="sourceCode" id="cb1"><pre class="r"><span class="co"># install.packages('devtools') devtools::install_github('Jellest/rAHNextract')</span>
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">rAHNextract</span>)</pre></div>
</div>
<div id="wcs-vs-sheets-method" class="section level2">
<h2 class="hasAnchor">
<a href="#wcs-vs-sheets-method" class="anchor"></a>WCS vs. Sheets method</h2>
<p>Retrieving individual AHN points or raster areas can be done through two methods: WCS method or sheets method. The WCS method is the fastest method and makes use of the OGC <a href="https://geodata.nationaalgeoregister.nl/ahn3/wcs?request=GetCapabilities&amp;service=wcs">WCS protocol</a>. The output is a 32float GeoTIFF file. This method is only efficient if a few AHN elevations or areas need to be retrieved.</p>
<p>With the sheets method, the data is retrieved from the 1km x 6.25 km raster sheets (kaartbladen) made made available by <a href="https://downloads.pdok.nl/ahn3-downloadpage/">PDOK</a>. This method is slower as it needs to download all the sheets required to retrieve the AHN (200-500 mb per sheet). This method is recommended to be used if many (point) elevations need to be retrieved from a certain small area. Other reason may be if it produces a more desired output format (regular GeoTIFF raster).</p>
<p>For both the points and raster areas, the WCS method is set to default. The sheets method can used by setting <code>sheets.method=TRUE</code>.</p>
</div>
<div id="examples" class="section level2">
<h2 class="hasAnchor">
<a href="#examples" class="anchor"></a>Examples</h2>
<p>The examples below show the possibilities of this package by combining the different parameters. The different examples show how different geometries (circles, bboxes, or custom shapes) can be retrieved with the raster areas or point clouds. Please use the complete documentation of the functions in R to see all the available parameters.</p>
<p>If desired, points or areas using the WGS coordinate system can be used as input by setting <code>LONLAT=TRUE</code>. For efficiency and accuracy purposes, returned raster areas are always done using the RD New coordinate system (the source).</p>
<p>For <code><a href="reference/ahn_point.html">ahn_point()</a></code> and <code><a href="reference/ahn_area.html">ahn_area()</a></code> the default output is a temporary file. Set location of directory if you want to keep the raster output (point) using the <code>output.dir</code> parameter. The default output location for <code><a href="reference/ahn_pc.html">ahn_pc()</a></code> is always the ‘/AHN_output’ directory in your working directory. Working with temporary files for point clouds is strongly discouraged due to the size of processed files.</p>
</div>
<div id="individual-ahn-elevations-points" class="section level2">
<h2 class="hasAnchor">
<a href="#individual-ahn-elevations-points" class="anchor"></a>Individual AHN elevations points</h2>
<p>The <code><a href="reference/ahn_point.html">ahn_point()</a></code> function returns the AHN elevation at the provided point.</p>
<div id="wcs-method" class="section level3">
<h3 class="hasAnchor">
<a href="#wcs-method" class="anchor"></a>WCS method</h3>
<p>This examples gets the elevation from the AHN3 (default) using the DSM (default) as the DEM.</p>
<div class="sourceCode" id="cb2"><pre class="r"><span class="fu"><a href="reference/ahn_point.html">ahn_point</a></span>(<span class="kw">name</span> <span class="kw">=</span> <span class="st">"Utrecht point"</span>, <span class="kw">X</span> <span class="kw">=</span> <span class="fl">136550</span>, <span class="kw">Y</span> <span class="kw">=</span> <span class="fl">456060</span>)
<span class="co">#&gt; [1] "Download raster image succeeded."</span>
<span class="co">#&gt; [1] "Intersecting raster. Getting elevation..."</span>
<span class="co">#&gt; [1] "Elevation of Utrecht point: 7.38 m."</span>
<span class="co">#&gt; [1] 7.38</span></pre></div>
</div>
<div id="sheets-method" class="section level3">
<h3 class="hasAnchor">
<a href="#sheets-method" class="anchor"></a>sheets method</h3>
<p>The sheets method can used by setting <code>sheets.method=TRUE</code>.</p>
<p>This examples gets the elevation from the AHN3 DTM at the exact same point.</p>
<div class="sourceCode" id="cb3"><pre class="r"><span class="fu"><a href="reference/ahn_point.html">ahn_point</a></span>(<span class="kw">name</span> <span class="kw">=</span> <span class="st">"Utrecht point"</span>, <span class="kw">X</span> <span class="kw">=</span> <span class="fl">136550</span>, <span class="kw">Y</span> <span class="kw">=</span> <span class="fl">456060</span>, <span class="kw">AHN</span> <span class="kw">=</span> <span class="st">"AHN2"</span>, <span class="kw">dem</span> <span class="kw">=</span> <span class="st">"DTM"</span>,
    <span class="kw">sheets.method</span> <span class="kw">=</span> <span class="fl">TRUE</span>)
<span class="co">#&gt; [1] "The AHN sheets are loaded from or downloaded in: C:/Users/jelle/Documents/R/rAHNextract/AHN_sheets/AHN2/DTM"</span>
<span class="co">#&gt; [1] "Found 1 sheet(s) with name(s):"</span>
<span class="co">#&gt; [1] "31hz2"</span>
<span class="co">#&gt; [1] "Downloading DTM sheets..."</span>
<span class="co">#&gt; [1] "Cropping DTM sheet to (part of) the area."</span>
<span class="co">#&gt; [1] "Download and crop of DTM rasters complete."</span>
<span class="co">#&gt; [1] "Intersecting raster. Getting elevation..."</span>
<span class="co">#&gt; [1] "Elevation of Utrecht point: 4.56 m."</span>
<span class="co">#&gt; [1] 4.56</span></pre></div>
</div>
</div>
<div id="ahn-elevation-areas" class="section level2">
<h2 class="hasAnchor">
<a href="#ahn-elevation-areas" class="anchor"></a>AHN elevation areas</h2>
<p>The <code><a href="reference/ahn_area.html">ahn_area()</a></code>returns the AHN elevation raster of the provided area.</p>
<div id="wcs-method-1" class="section level3">
<h3 class="hasAnchor">
<a href="#wcs-method-1" class="anchor"></a>WCS method</h3>
<div id="circle" class="section level4">
<h4 class="hasAnchor">
<a href="#circle" class="anchor"></a>circle</h4>
<p>This example gets a circular area from the AHN3 DSM, and saving its output raster in a custom output directory.</p>
<div class="sourceCode" id="cb4"><pre class="r"><span class="no">Utrecht_circleWCS</span> <span class="kw">&lt;-</span> <span class="fu"><a href="reference/ahn_area.html">ahn_area</a></span>(<span class="kw">name</span> <span class="kw">=</span> <span class="st">"Utrecht circle"</span>, <span class="kw">X</span> <span class="kw">=</span> <span class="fl">136550</span>, <span class="kw">Y</span> <span class="kw">=</span> <span class="fl">456060</span>, <span class="kw">resolution</span> <span class="kw">=</span> <span class="fl">0.5</span>,
    <span class="kw">radius</span> <span class="kw">=</span> <span class="fl">100</span>, <span class="kw">output.dir</span> <span class="kw">=</span> <span class="st">"C:/myProject"</span>)
<span class="co">#&gt; [1] "Creating circle from radius input."</span>
<span class="co">#&gt; [1] "Destination directory of output AHN area: C:/myProject"</span>
<span class="co">#&gt; [1] "Download raster image succeeded."</span>
<span class="co">#&gt; [1] "C:/myProject/Utrechtcircle_100m_rAHN3_05m_DSM.tif"</span>

<span class="fu"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span>(<span class="no">Utrecht_circleWCS</span>, <span class="kw">xlab</span> <span class="kw">=</span> <span class="st">"RD X"</span>, <span class="kw">ylab</span> <span class="kw">=</span> <span class="st">"RD Y"</span>, <span class="kw">main</span> <span class="kw">=</span> <span class="st">"AHN Elevation (m)"</span>)</pre></div>
<p><img src="reference/figures/README-AHN_raster_areas_circle-1.png" width="100%"></p>
</div>
<div id="bbox" class="section level4">
<h4 class="hasAnchor">
<a href="#bbox" class="anchor"></a>BBOX</h4>
<div id="bbox-using-a-radius-from-a-certain-point" class="section level5">
<h5 class="hasAnchor">
<a href="#bbox-using-a-radius-from-a-certain-point" class="anchor"></a>BBOX using a radius from a certain point</h5>
<p>This example gets a BBOX using a point and radius) from the AHN3 DSM.</p>
<div class="sourceCode" id="cb5"><pre class="r"><span class="no">Utrecht_WCSsBBOX</span> <span class="kw">&lt;-</span> <span class="fu"><a href="reference/ahn_area.html">ahn_area</a></span>(<span class="kw">name</span> <span class="kw">=</span> <span class="st">"Utrecht sBBOX"</span>, <span class="kw">X</span> <span class="kw">=</span> <span class="fl">136550</span>, <span class="kw">Y</span> <span class="kw">=</span> <span class="fl">456060</span>, <span class="kw">radius</span> <span class="kw">=</span> <span class="fl">100</span>,
    <span class="kw">bbox</span> <span class="kw">=</span> <span class="fl">TRUE</span>, <span class="kw">resolution</span> <span class="kw">=</span> <span class="fl">0.5</span>)
<span class="co">#&gt; [1] "Creating bbox from point and radius input."</span>
<span class="co">#&gt; [1] "Download raster image succeeded."</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span>(<span class="no">Utrecht_WCSsBBOX</span>, <span class="kw">xlab</span> <span class="kw">=</span> <span class="st">"RD X"</span>, <span class="kw">ylab</span> <span class="kw">=</span> <span class="st">"RD Y"</span>, <span class="kw">main</span> <span class="kw">=</span> <span class="st">"AHN Elevation (m)"</span>)</pre></div>
<p><img src="reference/figures/README-AHN_raster_areas_bbox_radius-1.png" width="100%"></p>
</div>
<div id="bbox-using-bbox-coordinates" class="section level5">
<h5 class="hasAnchor">
<a href="#bbox-using-bbox-coordinates" class="anchor"></a>BBOX using BBOX coordinates</h5>
<p>This example makes a bbox using BBOX coordinates from the AHN3 DTM (not interpolated version).</p>
<div class="sourceCode" id="cb6"><pre class="r"><span class="no">Utrecht_WCSBBOX</span> <span class="kw">&lt;-</span> <span class="fu"><a href="reference/ahn_area.html">ahn_area</a></span>(<span class="kw">name</span> <span class="kw">=</span> <span class="st">"Utrecht BBOX"</span>, <span class="kw">bbox</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">136450</span>, <span class="fl">455960</span>, <span class="fl">136650</span>,
    <span class="fl">456160</span>), <span class="kw">dem</span> <span class="kw">=</span> <span class="st">"DTM"</span>, <span class="kw">resolution</span> <span class="kw">=</span> <span class="fl">0.5</span>, <span class="kw">interpolate</span> <span class="kw">=</span> <span class="fl">FALSE</span>)
<span class="co">#&gt; [1] "Creating BBOX from BBOX coordinates."</span>
<span class="co">#&gt; [1] "Download raster image succeeded."</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span>(<span class="no">Utrecht_WCSBBOX</span>, <span class="kw">xlab</span> <span class="kw">=</span> <span class="st">"RD X"</span>, <span class="kw">ylab</span> <span class="kw">=</span> <span class="st">"RD Y"</span>, <span class="kw">main</span> <span class="kw">=</span> <span class="st">"AHN Elevation (m)"</span>)</pre></div>
<p><img src="reference/figures/README-AHN_raster_areas_bbox_coords-1.png" width="100%"></p>
</div>
</div>
<div id="using-a-custom-geometry-shape" class="section level4">
<h4 class="hasAnchor">
<a href="#using-a-custom-geometry-shape" class="anchor"></a>Using a custom geometry shape</h4>
<p>This example retrieves the AHN area of a custom shape area from the 5m resolution DSM of the AHN3.</p>
<div class="sourceCode" id="cb7"><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">sf</span>)
<span class="no">Utrecht.shp</span> <span class="kw">&lt;-</span> <span class="kw pkg">sf</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/sf/man/st_read.html">st_read</a></span>(<span class="st">"C:/myProject/Utrecht_oudegracht.shp"</span>)
<span class="co">#&gt; Reading layer `Utrecht_oudegracht' from data source `C:\myProject\Utrecht_oudegracht.shp' using driver `ESRI Shapefile'</span>
<span class="co">#&gt; Simple feature collection with 1 feature and 1 field</span>
<span class="co">#&gt; geometry type:  POLYGON</span>
<span class="co">#&gt; dimension:      XY</span>
<span class="co">#&gt; bbox:           xmin: 136422 ymin: 455924.1 xmax: 136762 ymax: 456208.3</span>
<span class="co">#&gt; proj4string:    +proj=sterea +lat_0=52.1561605555556 +lon_0=5.38763888888889 +k=0.9999079 +x_0=155000 +y_0=463000 +ellps=bessel +units=m +no_defs</span>

<span class="no">Utrecht_WCSpolygon</span> <span class="kw">&lt;-</span> <span class="fu"><a href="reference/ahn_area.html">ahn_area</a></span>(<span class="kw">name</span> <span class="kw">=</span> <span class="st">"Utrecht polygon"</span>, <span class="kw">polygon</span> <span class="kw">=</span> <span class="no">Utrecht.shp</span>, <span class="kw">resolution</span> <span class="kw">=</span> <span class="fl">5</span>)
<span class="co">#&gt; [1] "Creating area from custom geometry."</span>
<span class="co">#&gt; [1] "Download raster image succeeded."</span>
<span class="fu"><a href="https://rdrr.io/pkg/sf/man/plot.html">plot</a></span>(<span class="no">Utrecht_WCSpolygon</span>, <span class="kw">xlab</span> <span class="kw">=</span> <span class="st">"RD X"</span>, <span class="kw">ylab</span> <span class="kw">=</span> <span class="st">"RD Y"</span>, <span class="kw">main</span> <span class="kw">=</span> <span class="st">"AHN Elevation (m)"</span>)</pre></div>
<p><img src="reference/figures/README-AHN_raster_areas_custom_shape-1.png" width="100%"></p>
</div>
</div>
<div id="sheets-method-1" class="section level3">
<h3 class="hasAnchor">
<a href="#sheets-method-1" class="anchor"></a>Sheets method</h3>
<p>The sheets method can used by setting <code>sheets.method=TRUE</code>.</p>
<p>This example gets a BBOX with a point and radius) from the AHN2 DSM (default). This particular and bigger BBOX intersects with 2 sheets and are both automatically downloaded and processed before it is merged into one raster output. The AHN sheets will be saved (or loaded) in the ‘AHN_sheets’ directory in a own set diretory.</p>
<div class="sourceCode" id="cb8"><pre class="r"><span class="no">Utrecht_sCircle</span> <span class="kw">&lt;-</span> <span class="fu"><a href="reference/ahn_area.html">ahn_area</a></span>(<span class="kw">name</span> <span class="kw">=</span> <span class="st">"Utrecht scircle"</span>, <span class="kw">X</span> <span class="kw">=</span> <span class="fl">136550</span>, <span class="kw">Y</span> <span class="kw">=</span> <span class="fl">456060</span>, <span class="kw">radius</span> <span class="kw">=</span> <span class="fl">500</span>,
    <span class="kw">AHN</span> <span class="kw">=</span> <span class="st">"AHN2"</span>, <span class="kw">sheets.method</span> <span class="kw">=</span> <span class="fl">TRUE</span>, <span class="kw">sheets.location</span> <span class="kw">=</span> <span class="st">"C:/myProject"</span>)
<span class="co">#&gt; [1] "Creating circle from radius input."</span>
<span class="co">#&gt; [1] "Found 2 sheet(s) with name(s):"</span>
<span class="co">#&gt; [1] "31hn2"</span>
<span class="co">#&gt; [1] "31hz2"</span>
<span class="co">#&gt; [1] "Downloading DSM sheets..."</span>
<span class="co">#&gt; [1] "Cropping DSM sheet to (part of) the area."</span>
<span class="co">#&gt; [1] "Downloading DSM sheets..."</span>
<span class="co">#&gt; [1] "Cropping DSM sheet to (part of) the area."</span>
<span class="co">#&gt; [1] "Merging all DSM rasters..."</span>
<span class="co">#&gt; [1] "Download merge and crop of DSM rasters complete."</span>
<span class="fu"><a href="https://rdrr.io/pkg/sf/man/plot.html">plot</a></span>(<span class="no">Utrecht_sCircle</span>, <span class="kw">xlab</span> <span class="kw">=</span> <span class="st">"RD X"</span>, <span class="kw">ylab</span> <span class="kw">=</span> <span class="st">"RD Y"</span>, <span class="kw">main</span> <span class="kw">=</span> <span class="st">"AHN Elevation (m)"</span>)</pre></div>
<p><img src="reference/figures/README-AHN_raster_areas_sheets-1.png" width="100%"></p>
</div>
</div>
<div id="point-clouds-areas" class="section level2">
<h2 class="hasAnchor">
<a href="#point-clouds-areas" class="anchor"></a>Point clouds areas</h2>
<p>The <code><a href="reference/ahn_pc.html">ahn_pc()</a></code> function extracts the point clouds from a provided area. The output is LAS data compressed in a .laz file of the area.</p>
<p>AHN3 only has one point clouds dataset available. The AHN1 and AHN2 both have 2 versions: filtered (‘gefilterd’) and not filtered (‘uitgefilterd’). Default is <code>gefilterd=TRUE</code>.</p>
<p>For all point clouds downloads you can extract the exact same geometry shapes as used for raster areas using the same parameters described above. (X, Y, radius, bbox, shape).</p>
<p>Extracting point clouds will always be done using point clouds sheets provided by the <a href="https://downloads.pdok.nl/ahn3-downloadpage/">PDOK</a>. These are often large files and will by default be downloaded and kept on your machine in your working directory under ‘/AHN_sheets’ or a new ‘/AHN_sheets’ directory in your sheet download folder through the <code>sheets.location</code> parameter. Set <code>sheets.keep=FALSE</code> if you want to delete the downloaded point clouds sheets after the function has finished running. Warning: Extracting point clouds area require a lot of memory and time to be processed.</p>
<div id="ahn3" class="section level3">
<h3 class="hasAnchor">
<a href="#ahn3" class="anchor"></a>AHN3</h3>
<p>This example retrieves the AHN point clouds of a custom shape area from the AHN3.</p>
<p>The output .laz data was imported in the program <a href="https://www.danielgm.net/cc/">CloudCompare</a> to generate the images of the .laz data.</p>
<div class="sourceCode" id="cb9"><pre class="r"><span class="co">### AHN3</span>
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">sf</span>)
<span class="no">Utrecht.shp</span> <span class="kw">&lt;-</span> <span class="kw pkg">sf</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/sf/man/st_read.html">st_read</a></span>(<span class="st">"C:/myProject/Utrecht_oudegracht.shp"</span>)
<span class="co">#&gt; Reading layer `Utrecht_oudegracht' from data source `C:\myProject\Utrecht_oudegracht.shp' using driver `ESRI Shapefile'</span>
<span class="co">#&gt; Simple feature collection with 1 feature and 1 field</span>
<span class="co">#&gt; geometry type:  POLYGON</span>
<span class="co">#&gt; dimension:      XY</span>
<span class="co">#&gt; bbox:           xmin: 136422 ymin: 455924.1 xmax: 136762 ymax: 456208.3</span>
<span class="co">#&gt; proj4string:    +proj=sterea +lat_0=52.1561605555556 +lon_0=5.38763888888889 +k=0.9999079 +x_0=155000 +y_0=463000 +ellps=bessel +units=m +no_defs</span>

<span class="no">Utrecht_shape_pc</span> <span class="kw">&lt;-</span> <span class="fu"><a href="reference/ahn_pc.html">ahn_pc</a></span>(<span class="kw">name</span> <span class="kw">=</span> <span class="st">"Utrecht polygon pc"</span>, <span class="kw">polygon</span> <span class="kw">=</span> <span class="no">Utrecht.shp</span>)
<span class="co">#&gt; [1] "The AHN sheets are loaded from or downloaded in: C:/Users/jelle/Documents/R/rAHNextract/AHN_sheets/AHN3/PC"</span>
<span class="co">#&gt; [1] "Creating area from custom geometry."</span>
<span class="co">#&gt; [1] "Destination directory of output point clouds area: AHN_output"</span>
<span class="co">#&gt; [1] "Found 1 sheet(s) with name(s):"</span>
<span class="co">#&gt; [1] "31hz2"</span>
<span class="co">#&gt; [1] "Downloading point cloud sheets..."</span>
<span class="co">#&gt; [1] "https://download.pdok.nl/rws/ahn3/v1_0/laz/C_31HZ2.LAZ"</span>
<span class="co">#&gt; [1] "Filter string: -keep_xy 136421 455924 136762 456209"</span>
<span class="co">#&gt; [1] "writing .laz"</span>
<span class="co">#&gt; [1] "C:/Users/jelle/Documents/R/rAHNextract/AHN_sheets/AHN3/PC/C_31HZ2.LAZ"</span></pre></div>
<p><img src="reference/figures/README-ahn3_pc_output.png" alt="AHN3 point clouds"></p>
</div>
<div id="ahn2-and-ahn1" class="section level3">
<h3 class="hasAnchor">
<a href="#ahn2-and-ahn1" class="anchor"></a>AHN2 and AHN1</h3>
<p>This example retrieves the AHN point clouds of a BBOX area from the not filtered AHN2 (uitgefilterd). No custom output directory has been set, and therefore the working directory wil be used for the output .laz file. The point clouds sheets parameter is also not set, and therfore is/are loaded in the default ‘AHN_sheets’ directory.</p>
<div class="sourceCode" id="cb10"><pre class="r"><span class="no">Utrecht_BBOX_pc</span> <span class="kw">&lt;-</span> <span class="fu"><a href="reference/ahn_pc.html">ahn_pc</a></span>(<span class="kw">name</span> <span class="kw">=</span> <span class="st">"Utrecht BBOX pc"</span>, <span class="kw">bbox</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">136450</span>, <span class="fl">455960</span>, <span class="fl">136650</span>,
    <span class="fl">456160</span>), <span class="kw">AHN</span> <span class="kw">=</span> <span class="st">"AHN2"</span>, <span class="kw">gefilterd</span> <span class="kw">=</span> <span class="fl">TRUE</span>)
<span class="co">#&gt; [1] "The AHN sheets are loaded from or downloaded in: C:/Users/jelle/Documents/R/rAHNextract/AHN_sheets/AHN2/PC"</span>
<span class="co">#&gt; [1] "Creating BBOX from BBOX coordinates."</span>
<span class="co">#&gt; [1] "Destination directory of output point clouds area: AHN_output"</span>
<span class="co">#&gt; [1] "Found 1 sheet(s) with name(s):"</span>
<span class="co">#&gt; [1] "31hz2"</span>
<span class="co">#&gt; [1] "Downloading point cloud sheets..."</span>
<span class="co">#&gt; [1] "https://geodata.nationaalgeoregister.nl/ahn2/extract/ahn2_gefilterd/g31hz2.laz.zip"</span>
<span class="co">#&gt; [1] "Filter string: -keep_xy 136450 455960 136650 456160"</span>
<span class="co">#&gt; [1] "writing .laz"</span>
<span class="co">#&gt; [1] "C:/Users/jelle/Documents/R/rAHNextract/AHN_sheets/AHN2/PC/g31hz2.laz"</span></pre></div>
<p><img src="reference/figures/README-ahn2_pc_output.png" alt="AHN2 point clouds"></p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/Jellest/rAHNextract/">https://​github.com/​Jellest/​rAHNextract/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/Jellest/rAHNextract/issues">https://​github.com/​Jellest/​rAHNextract/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> <a href="LICENSE-text.html">LICENSE</a>.md</small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Jelle Stuurman <br><small class="roles"> Maintainer </small>  </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by Jelle Stuurman.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
