<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Extract elevation points or raster areas in the Netherlands
    from the Actueel Hoogtebestand Nederland (AHN). Raster extraction is
    possible of a custom area for the latest AHN made available by PDOK.">
<title>Extract elevation points or areas in the Netherlands from the AHN • rAHNextract</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Extract elevation points or areas in the Netherlands from the AHN">
<meta property="og:description" content="Extract elevation points or raster areas in the Netherlands
    from the Actueel Hoogtebestand Nederland (AHN). Raster extraction is
    possible of a custom area for the latest AHN made available by PDOK.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">rAHNextract</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.98</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/Jellest/rAHNextract/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="rahnextract-098">rAHNextract 0.98<a class="anchor" aria-label="anchor" href="#rahnextract-098"></a>
</h1></div>
<!-- badges: start -->

<p>Updated: 11-04-2024</p>
<p>This R package automatically extracts elevation points or areas of the Netherlands from the Actueel Hoogtebestand Nederland (AHN) datasets collected by <a href="https://www.ahn.nl/" class="external-link">AHN</a>. Individual elevations, and elevation raster areas can be extracted from the AHN4 using the geo and atom web services that are made available by <a href="https://www.pdok.nl/introductie/-/article/actueel-hoogtebestand-nederland-ahn" class="external-link">PDOK</a>. PDOK only makes the most recent AHN available. Currently this is version AHN4. The next release will also support the older versions of AHN which are made available elsewhere.</p>
<table class="table">
<colgroup>
<col width="13%">
<col width="27%">
<col width="10%">
<col width="15%">
<col width="15%">
<col width="18%">
</colgroup>
<thead><tr class="header">
<th>Type</th>
<th>AHN5</th>
<th>AHN4</th>
<th>AHN 3</th>
<th>AHN2</th>
<th>AHN1</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><strong>Resolutions</strong></td>
<td>waiting for data completion</td>
<td>0.5 m, 5 m*</td>
<td>support will follow</td>
<td>support will follow</td>
<td>support may never follow</td>
</tr>
<tr class="even">
<td><strong>DEM</strong></td>
<td>waiting for data completion</td>
<td>DSM, DTM</td>
<td>support will follow</td>
<td>support will follow</td>
<td>support may never follow</td>
</tr>
<tr class="odd">
<td><strong>point clouds</strong></td>
<td>support may come in a future release</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>*support for 5 m. resolution for AHN4 will follow.</p>
<p>Please refer to the quality documentation <a href="https://www.ahn.nl/kwaliteitsbeschrijving" class="external-link">provided</a> (in Dutch only) for all the details about the data. AHN is the the organisation that collects AHN data. ## 1. Installation</p>
<p>To download the<code>rAHNextract</code> package from GitHub, the library <code>devtools</code> is required. If you want to compile the code from the source code, the program Rtools is needed. Rtools is not required to make use of the <code>rAHNextract</code> package. To plot rasters using <code><a href="https://rspatial.github.io/terra/reference/plot.html" class="external-link">plot()</a></code> the <code>terra</code> package is required.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://devtools.r-lib.org/" class="external-link">devtools</a></span><span class="op">)</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"Jellest/rAHNextract"</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://jellest.github.io/rAHNextract/" class="external-link">rAHNextract</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rspatial.org/" class="external-link">terra</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="id_2-wcs-vs-sheets-method">2. WCS vs. Sheets method<a class="anchor" aria-label="anchor" href="#id_2-wcs-vs-sheets-method"></a>
</h2>
<p>Retrieving individual AHN elevation points or elevation raster areas can be retrieved through two methods: WCS method or sheets method. The WCS method is the fastest method and makes use of the OGC <a href="https://www.pdok.nl/ogc-webservices/-/article/actueel-hoogtebestand-nederland-ahn" class="external-link">WCS protocol</a>. The output is a GeoTIFF file. This method is only efficient if a few AHN elevations or areas need to be retrieved.</p>
<p>With the sheets method, the data is retrieved from the 1km x 6.25 km raster sheets (kaartbladen) made made available by <a href="https://www.pdok.nl/atom-downloadservices/-/article/actueel-hoogtebestand-nederland-ahn" class="external-link">PDOK</a>. This method is slower as it needs to download all the sheets required to retrieve the AHN (200-500 mb per sheet). This method is recommended to be used if many (point) elevations need to be retrieved from a certain small area.</p>
<p>For both the points and raster areas, the WCS method is set to default. The sheets method can used by setting <code>sheets.method = TRUE</code>.</p>
</div>
<div class="section level2">
<h2 id="id_3-method-of-elevation-extraction">3. Method of elevation extraction<a class="anchor" aria-label="anchor" href="#id_3-method-of-elevation-extraction"></a>
</h2>
<p>Extraction of the elevation is done based on the raster data it receives from the sources. Determining the elevation can be tricky if no correct resampling is applied. The script always ensures a correct resampling takes place by adjusting the raster cells that need to be downloaded whenever necessary. This is called a ‘rectified grid.’ To avoid issues, the extraction calculation is therefore always done in the script and not through a OGC method online. Please refer to <a href="https://geoforum.nl/t/wcs-van-ahn3-werkt-een-bounding-box-als-clip/6122/4" class="external-link">this</a> why it is important to always use rectified grids.</p>
<p>Please refer to <a href="https://gisgeography.com/raster-resampling/" class="external-link">this</a> to read between the different extraction methods allowed: ‘simple’ (nearest) or ‘bilinear’. In this package the default for the <code>extraction.method</code> parameter is set to ‘simple’.</p>
</div>
<div class="section level2">
<h2 id="id_4-examples">4. Examples<a class="anchor" aria-label="anchor" href="#id_4-examples"></a>
</h2>
<p>The examples below show the possibilities of this package by combining the different parameters. The different examples show how different geometries (circle, bbox, or custom polygon) can be retrieved with the raster areas. Please use the complete documentation of the functions in R to see all the available parameters.</p>
<p>If desired, points or areas using the WGS84 coordinate system (Longitude and Latitude coordinates) can be used as input by setting <code>LONLAT = TRUE</code>. For efficiency and accuracy purposes, returned raster areas are always done using the RD New coordinate system (the source).</p>
<p>For <code><a href="reference/ahn_point.html">ahn_point()</a></code> and <code><a href="reference/ahn_area.html">ahn_area()</a></code> the default output is a temporary file. Set location of directory if you want to keep the raster output (point) using the <code>output.dir</code> parameter.</p>
<div class="section level3">
<h3 id="id_41-individual-ahn-elevations-points">4.1 Individual AHN elevations points<a class="anchor" aria-label="anchor" href="#id_41-individual-ahn-elevations-points"></a>
</h3>
<p>The <code><a href="reference/ahn_point.html">ahn_point()</a></code> function returns the AHN elevation at the provided point.</p>
<div class="section level4">
<h4 id="id_411-wcs-method">4.1.1 WCS method<a class="anchor" aria-label="anchor" href="#id_411-wcs-method"></a>
</h4>
<p>This examples gets the elevation from the AHN (default) using the DSM (default) as the DEM. Changing the DEM type can be adjusted through the <code>dem</code> parameter(“DTM”, or “DSM”)</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/ahn_point.html">ahn_point</a></span><span class="op">(</span>X <span class="op">=</span> <span class="fl">136544</span>, Y <span class="op">=</span> <span class="fl">456070</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "https://service.pdok.nl/rws/ahn/wcs/v1_0/?&amp;SERVICE=WCS&amp;VERSION=1.0.0&amp;REQUEST=GetCoverage"</span></span>
<span><span class="co">#&gt; [1] "Download raster image succeeded."</span></span>
<span><span class="co">#&gt; [1] "Intersecting raster. Getting elevation..."</span></span>
<span><span class="co">#&gt; [1] "Elevation of AHNelevation: 63.57 m."</span></span>
<span><span class="co">#&gt; [1] 63.57</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="id_412-sheets-method">4.1.2 sheets method<a class="anchor" aria-label="anchor" href="#id_412-sheets-method"></a>
</h4>
<p>The sheets method can used by setting <code>sheets.method = TRUE</code>. AHN sheets are always stored by default in the {current working directory}/AHN_output/AHN_sheets but can be adjusted using the <code>sheets.dir</code> parameter. The sheets will always be stored under the ‘AHN_sheets’ folder under the used AHN and DEM.</p>
<p>This examples gets the elevation from the AHN DSM at the exact same point.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/ahn_point.html">ahn_point</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Utrecht point"</span>, X <span class="op">=</span> <span class="fl">136550</span>, Y <span class="op">=</span> <span class="fl">456060</span>, AHN <span class="op">=</span> <span class="st">"AHN"</span>, dem <span class="op">=</span> <span class="st">"DTM"</span>, sheets.method <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "The AHN sheets are loaded from or downloaded in: C:/Users/jelle/stack/GitHub/rAHNextract/rAHNextract_dev/AHN_sheets. If no AHN sheet in the correct directory or if no correct name of AHN sheet is found, sheet will be downloaded. For first use it is recommended to use the default output directory."</span></span>
<span><span class="co">#&gt; [1] "Destination directory of output AHN sheet M_31HZ2.tif: C:/Users/jelle/stack/GitHub/rAHNextract/rAHNextract_dev/AHN_sheets/AHN4/DTM"</span></span>
<span><span class="co">#&gt; [1] "Intersecting raster. Getting elevation..."</span></span>
<span><span class="co">#&gt; [1] "Elevation of Utrecht point: 4.60 m."</span></span>
<span><span class="co">#&gt; [1] 4.6</span></span></code></pre></div>
<p>Please see <a href="">here</a> all the parameters available for <code><a href="reference/ahn_point.html">ahn_point()</a></code></p>
</div>
</div>
<div class="section level3">
<h3 id="id_42-ahn-elevation-areas">4.2 AHN elevation areas<a class="anchor" aria-label="anchor" href="#id_42-ahn-elevation-areas"></a>
</h3>
<p>The <code><a href="reference/ahn_area.html">ahn_area()</a></code>returns the AHN elevation raster of the provided area.</p>
<div class="section level4">
<h4 id="id_421-wcs-method">4.2.1 WCS method<a class="anchor" aria-label="anchor" href="#id_421-wcs-method"></a>
</h4>
<div class="section level5">
<h5 id="id_4211-circle">4.2.1.1 circle<a class="anchor" aria-label="anchor" href="#id_4211-circle"></a>
</h5>
<p>This example gets a circular area from the AHN DSM, and saving its output raster in a custom output directory.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Utrecht_circleWCS</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/ahn_area.html">ahn_area</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Utrecht circle"</span>, X <span class="op">=</span> <span class="fl">136544</span>, Y <span class="op">=</span> <span class="fl">456070</span>, resolution <span class="op">=</span> <span class="fl">0.5</span>, radius <span class="op">=</span> <span class="fl">130</span>, output.dir <span class="op">=</span> <span class="st">"C:/myProject"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Creating circle from single X,Y point and a radius input."</span></span>
<span><span class="co">#&gt; [1] "Destination directory of output AHN area: C:/myProject"</span></span>
<span><span class="co">#&gt; [1] "Download raster image succeeded."</span></span>
<span></span>
<span><span class="fu"><a href="https://rspatial.github.io/terra/reference/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">Utrecht_circleWCS</span>, xlab <span class="op">=</span> <span class="st">"RD X"</span>, ylab <span class="op">=</span> <span class="st">"RD Y"</span>, main <span class="op">=</span> <span class="st">"AHN Elevation (m)"</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-AHN_raster_areas_circle-1.png" width="80%" style="display: block; margin: auto;"></p>
</div>
<div class="section level5">
<h5 id="id_4212-bbox">4.2.1.2 BBOX<a class="anchor" aria-label="anchor" href="#id_4212-bbox"></a>
</h5>
<div class="section level6">
<h6 id="id_42121-bbox-using-a-radius-from-a-certain-point">4.2.1.2.1 BBOX using a radius from a certain point<a class="anchor" aria-label="anchor" href="#id_42121-bbox-using-a-radius-from-a-certain-point"></a>
</h6>
<p>This example gets a BBOX (using a point and radius) from the AHN DSM.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Utrecht_WCSsBBOX</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/ahn_area.html">ahn_area</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Utrecht rBBOX"</span>, X <span class="op">=</span> <span class="fl">136550</span>, Y <span class="op">=</span> <span class="fl">456060</span>, radius <span class="op">=</span> <span class="fl">130</span>, bbox <span class="op">=</span> <span class="cn">TRUE</span>, resolution <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Creating bbox from X,Y point and radius input."</span></span>
<span><span class="co">#&gt; [1] "Download raster image succeeded."</span></span>
<span><span class="fu"><a href="https://rspatial.github.io/terra/reference/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">Utrecht_WCSsBBOX</span>, xlab <span class="op">=</span> <span class="st">"RD X"</span>, ylab <span class="op">=</span> <span class="st">"RD Y"</span>, main <span class="op">=</span> <span class="st">"AHN Elevation (m)"</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-AHN_raster_areas_bbox_radius-1.png" width="80%" style="display: block; margin: auto;"></p>
</div>
<div class="section level6">
<h6 id="id_42122-bbox-using-bbox-coordinates">4.2.1.2.2 BBOX using BBOX coordinates<a class="anchor" aria-label="anchor" href="#id_42122-bbox-using-bbox-coordinates"></a>
</h6>
<p>This example makes a bbox using BBOX coordinates from the AHN DTM.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Utrecht_WCSBBOX</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/ahn_area.html">ahn_area</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Utrecht BBOX"</span>, bbox <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">136440</span>, <span class="fl">455940</span>, <span class="fl">136650</span>, <span class="fl">456160</span><span class="op">)</span>, dem <span class="op">=</span> <span class="st">"DTM"</span>, resolution <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Creating BBOX from BBOX coordinates."</span></span>
<span><span class="co">#&gt; [1] "Download raster image succeeded."</span></span>
<span><span class="fu"><a href="https://rspatial.github.io/terra/reference/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">Utrecht_WCSBBOX</span>, xlab <span class="op">=</span> <span class="st">"RD X"</span>, ylab <span class="op">=</span> <span class="st">"RD Y"</span>, main <span class="op">=</span> <span class="st">"AHN Elevation (m)"</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-AHN_raster_areas_bbox_coords-1.png" width="80%" style="display: block; margin: auto;"></p>
</div>
</div>
<div class="section level5">
<h5 id="id_4213-using-a-custom-geometry-shape">4.2.1.3 Using a custom geometry shape<a class="anchor" aria-label="anchor" href="#id_4213-using-a-custom-geometry-shape"></a>
</h5>
<p>This example retrieves the AHN area of a custom shape area from the 5m resolution DSM of the AHN3.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/" class="external-link">sf</a></span><span class="op">)</span></span>
<span><span class="va">Utrecht.gpkg</span> <span class="op">&lt;-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_read.html" class="external-link">st_read</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"C:/myProject/rAHNextract_tests.gpkg"</span><span class="op">)</span>, layer <span class="op">=</span> <span class="st">"my_polygon"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Reading layer `my_polygon' from data source `C:\myProject\rAHNextract_tests.gpkg' using driver `GPKG'</span></span>
<span><span class="co">#&gt; Simple feature collection with 1 feature and 0 fields</span></span>
<span><span class="co">#&gt; Geometry type: POLYGON</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: 136424.8 ymin: 455938.7 xmax: 136664.1 ymax: 456121.9</span></span>
<span><span class="co">#&gt; Projected CRS: Amersfoort / RD New</span></span>
<span></span>
<span><span class="va">Utrecht_WCSpolygon</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/ahn_area.html">ahn_area</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Utrecht polygon"</span>, polygon <span class="op">=</span> <span class="va">Utrecht.gpkg</span>, resolution <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span>
<span><span class="co">#&gt; Simple feature collection with 1 feature and 0 fields</span></span>
<span><span class="co">#&gt; Geometry type: POLYGON</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: 136424.8 ymin: 455938.7 xmax: 136664.1 ymax: 456121.9</span></span>
<span><span class="co">#&gt; Projected CRS: Amersfoort / RD New</span></span>
<span><span class="co">#&gt;                             geom</span></span>
<span><span class="co">#&gt; 1 POLYGON ((136486.7 455945.3...</span></span>
<span><span class="co">#&gt; [1] "Creating area from custom geometry."</span></span>
<span><span class="co">#&gt; [1] "Download raster image succeeded."</span></span>
<span><span class="fu"><a href="https://rspatial.github.io/terra/reference/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">Utrecht_WCSpolygon</span>, xlab <span class="op">=</span> <span class="st">"RD X"</span>, ylab <span class="op">=</span> <span class="st">"RD Y"</span>, main <span class="op">=</span> <span class="st">"AHN Elevation (m)"</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-AHN_raster_areas_custom_shape-1.png" width="80%" style="display: block; margin: auto;"></p>
</div>
</div>
<div class="section level4">
<h4 id="id_422-sheets-method">4.2.2 Sheets method<a class="anchor" aria-label="anchor" href="#id_422-sheets-method"></a>
</h4>
<p>The sheets method can used by setting <code>sheets.method = TRUE</code>.</p>
<p>This example gets a elevation raster in the form of a circle. This bigger BBOX intersects with 2 sheets and are both automatically downloaded and processed before it is merged into one raster output. The AHN sheets will be saved (or loaded) in the ‘AHN_sheets’ directory or in a own set directory. If an intersection is made with 3 ir 4 sheets, they wil be downloaded as well,. Please note that downloading 4 AHN sheets will be around 1GB of storage space.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Utrecht_sheets</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/ahn_area.html">ahn_area</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Utrecht circle"</span>, X <span class="op">=</span> <span class="fl">136550</span>, Y <span class="op">=</span> <span class="fl">456060</span>, radius <span class="op">=</span> <span class="fl">500</span>, AHN <span class="op">=</span> <span class="st">"AHN"</span>, sheets.method <span class="op">=</span> <span class="cn">TRUE</span>, output.dir <span class="op">=</span> <span class="st">"C:/myProject"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Creating circle from single X,Y point and a radius input."</span></span>
<span><span class="co">#&gt; [1] "The AHN sheets are loaded from or downloaded into: C:/myProject/AHN_sheets. If no AHN sheet(s) are found in this directory or if no correct name of AHN sheet(s) are found, the AHN sheet(s) will be downloaded."</span></span>
<span><span class="co">#&gt; [1] "https://service.pdok.nl/rws/ahn/atom/downloads/dsm_05m/R_31HZ2.tif"</span></span>
<span><span class="co">#&gt; [1] "Destination directory of output AHN sheet R_31HZ2.tif: C:/myProject/AHN_sheets/AHN4/DSM"</span></span>
<span><span class="co">#&gt; [1] "https://service.pdok.nl/rws/ahn/atom/downloads/dsm_05m/R_31HN2.tif"</span></span>
<span><span class="co">#&gt; [1] "Destination directory of output AHN sheet R_31HN2.tif: C:/myProject/AHN_sheets/AHN4/DSM"</span></span>
<span><span class="co">#&gt; [1] "Masked raster and saved on disk at: C:/myProject/Utrecht_circle_AHN4_dsm05m.tif"</span></span>
<span><span class="fu"><a href="https://rspatial.github.io/terra/reference/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">Utrecht_sheets</span>, xlab <span class="op">=</span> <span class="st">"RD X"</span>, ylab <span class="op">=</span> <span class="st">"RD Y"</span>, main <span class="op">=</span> <span class="st">"AHN Elevation (m)"</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-AHN_raster_areas_sheets-1.png" width="80%" style="display: block; margin: auto;"></p>
</div>
<div class="section level4">
<h4 id="id_43-downloading-only-sheets">4.3 Downloading only sheets<a class="anchor" aria-label="anchor" href="#id_43-downloading-only-sheets"></a>
</h4>
<p>It is also possible to only download the AHN sheets. This is done by providing a <code><a href="https://rdrr.io/r/base/list.html" class="external-link">list()</a></code> of kaartbladen nrs through the <code>sheets</code> parameter. When setting thz<code>sheets</code> only the <code>AHN</code>, <code>dem</code> and <code>sheets.dir</code> become relevant. AHN sheets are always stored by default in the {current working directory}/AHN_output/AHN_sheets but can be adjusted using the <code>sheets.dirt</code> parameter. The sheets will always be stored under the ‘AHN_sheets’ folder followed by AHN and DEM folders.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/ahn_area.html">ahn_area</a></span><span class="op">(</span>AHN <span class="op">=</span> <span class="st">"AHN"</span>, dem <span class="op">=</span> <span class="st">"DTM"</span>, sheets <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"31HN1"</span>, <span class="st">"31HN2"</span><span class="op">)</span>, sheets.dir <span class="op">=</span> <span class="st">"C:/myProject"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "The AHN sheets are loaded from or downloaded into: C:/myProject/AHN_sheets. If no AHN sheet(s) are found in this directory or if no correct name of AHN sheet(s) are found, the AHN sheet(s) will be downloaded."</span></span>
<span><span class="co">#&gt; [1] "Destination directory of output AHN sheet M_31HN1.tif: C:/myProject/AHN_sheets/AHN4/DTM"</span></span>
<span><span class="co">#&gt; [1] "Destination directory of output AHN sheet M_31HN2.tif: C:/myProject/AHN_sheets/AHN4/DTM"</span></span>
<span><span class="co">#&gt; [1] "C:/myProject/AHN_sheets/AHN4/DTM/M_31HN1.tif" "C:/myProject/AHN_sheets/AHN4/DTM/M_31HN2.tif"</span></span></code></pre></div>
<p>Please see <a href="">here</a> all the parameters available for <code><a href="reference/ahn_area.html">ahn_area()</a></code></p>
</div>
</div>
<div class="section level3">
<h3 id="id_5-point-clouds-areas">5. Point clouds areas<a class="anchor" aria-label="anchor" href="#id_5-point-clouds-areas"></a>
</h3>
<p>Support for downloading point clouds is no longer available in this release. Support may come back in a future release.</p>
</div>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/Jellest/rAHNextract/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/Jellest/rAHNextract/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>AGPL (&gt;= 3)</small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing rAHNextract</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Jelle Stuurman <br><small class="roles"> Maintainer </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://www.tidyverse.org/lifecycle/#maturing" class="external-link"><img src="https://img.shields.io/badge/lifecycle-maturing-blue.svg" alt="Lifecycle: maturing"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Jelle Stuurman.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
